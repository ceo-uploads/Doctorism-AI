:root { --ac: #4e87f5; --bg: #030305; --pnl: rgba(15, 15, 18, 0.85); --brd: rgba(255,255,255,0.06); }

* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; }
body { background: var(--bg); color: #eef; overflow: hidden; height: 100dvh; }

/* Global Header */
header { 
    position: fixed; top: 0; width: 100%; height: 65px; z-index: 1000;
    background: rgba(0,0,0,0.4); backdrop-filter: blur(20px);
    border-bottom: 1px solid var(--brd); display: flex; align-items: center; padding: 0 2rem;
}

.ham { cursor: pointer; display: flex; flex-direction: column; gap: 5px; z-index: 1001; }
.ham span { width: 22px; height: 2px; background: var(--ac); transition: .3s; }

/* Sidebar */
#side {
    position: fixed; left: -350px; top: 0; width: 350px; height: 100%;
    background: var(--pnl); backdrop-filter: blur(40px); z-index: 999;
    border-right: 1px solid var(--brd); padding: 100px 2rem; transition: .4s cubic-bezier(0.1, 0.9, 0.2, 1);
}
#side.on { left: 0; }

/* Workspace & Chat Flow */
.view { display: flex; height: 100dvh; padding-top: 65px; position: relative; justify-content: center; }
#canvas { position: absolute; inset: 0; z-index: 0; opacity: 0.4; }

.container { 
    width: 90%; max-width: 950px; display: flex; flex-direction: column; 
    z-index: 10; height: calc(100dvh - 65px); padding: 1rem 0 2rem;
}

.flow { 
    flex: 1; overflow-y: auto; padding-right: 10px; display: flex; flex-direction: column; 
    gap: 2rem; scrollbar-width: none;
}

/* Dynamic Msg Bubbles */
.msg { 
    min-height: 40px; width: auto; max-width: 85%; padding: 1.2rem 1.5rem; 
    border-radius: 20px; line-height: 1.7; font-size: 15px; 
    word-wrap: break-word; /* Fix for overflow */
}
.ai { background: var(--pnl); border: 1px solid var(--brd); border-left: 4px solid var(--ac); align-self: flex-start; }
.user { color: #888; align-self: flex-end; text-align: right; background: rgba(255,255,255,0.02); }

/* Input Engine */
.in-bar {
    background: var(--pnl); border: 1px solid var(--brd); border-radius: 40px; 
    padding: .5rem 1.5rem; display: flex; align-items: center; transition: .3s;
    margin-top: 1rem;
}
.in-bar:focus-within { border-color: var(--ac); box-shadow: 0 0 30px rgba(78, 135, 245, 0.1); }
input { flex: 1; background: transparent; border: none; color: #fff; padding: 12px; font-size: 16px; outline: none; }

@media (max-width: 768px) { .container { width: 95%; } #side { width: 100%; left: -100%; } }